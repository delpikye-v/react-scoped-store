"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r=function(){function e(e){this.listeners=new Set,this.state=e}return e.prototype.getState=function(){return this.state},e.prototype.setState=function(e){var t="function"==typeof e?e(this.state):e;this.state=Object.assign({},this.state,t),this.emit()},e.prototype.subscribe=function(e){var t=this;return this.listeners.add(e),function(){return t.listeners.delete(e)}},e.prototype.destroy=function(){this.listeners.clear()},e.prototype.emit=function(){this.listeners.forEach((function(e){return e()}))},e}();function u(e){var t={exports:{}};return e(t,t.exports),t.exports}var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.default.useState,s=n.default.useEffect,a=n.default.useLayoutEffect,c=n.default.useDebugValue;function f(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),u=r[0].inst,o=r[1];return a((function(){u.value=n,u.getSnapshot=t,f(u)&&o({inst:u})}),[e,n,t]),s((function(){return f(u)&&o({inst:u}),e((function(){f(u)&&o({inst:u})}))}),[e]),c(n),n},_={useSyncExternalStore:void 0!==n.default.useSyncExternalStore?n.default.useSyncExternalStore:l},d=u((function(e,t){"production"!==process.env.NODE_ENV&&function(){function e(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!u(e,n)}catch(e){return!0}}"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var r=n.default,u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useState,i=r.useEffect,s=r.useLayoutEffect,a=r.useDebugValue,c=!1,f=!1,l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(t,n){c||void 0===r.startTransition||(c=!0,console.error("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var l=n();if(!f){var _=n();u(l,_)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),f=!0)}var d=(_=o({inst:{value:l,getSnapshot:n}}))[0].inst,O=_[1];return s((function(){d.value=l,d.getSnapshot=n,e(d)&&O({inst:d})}),[t,l,n]),i((function(){return e(d)&&O({inst:d}),t((function(){e(d)&&O({inst:d})}))}),[t]),a(l),l};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()})),O=u((function(e){"production"===process.env.NODE_ENV?e.exports=_:e.exports=d}));var S="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},p=O.useSyncExternalStore,v=n.default.useRef,E=n.default.useEffect,y=n.default.useMemo,L=n.default.useDebugValue,h={useSyncExternalStoreWithSelector:function(e,t,n,r,u){var o=v(null);if(null===o.current){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=y((function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==u&&i.hasValue){var t=i.value;if(u(t,e))return s=t}return s=e}if(t=s,S(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(o=e,t):(o=e,s=n)}var o,s,a=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,u]);var s=p(e,o[0],o[1]);return E((function(){i.hasValue=!0,i.value=s}),[s]),L(s),s}},b=u((function(e,t){"production"!==process.env.NODE_ENV&&function(){"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var e=n.default,r=O,u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,i=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,f){var l=i(null);if(null===l.current){var _={hasValue:!1,value:null};l.current=_}else _=l.current;l=a((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==f&&_.hasValue){var t=_.value;if(f(t,e))return i=t}return i=e}if(t=i,u(o,e))return t;var n=r(e);return void 0!==f&&f(t,n)?(o=e,t):(o=e,i=n)}var o,i,s=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]}),[t,n,r,f]);var d=o(e,l[0],l[1]);return s((function(){_.hasValue=!0,_.value=d}),[d]),c(d),d},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())}()})),g=u((function(e){"production"===process.env.NODE_ENV?e.exports=h:e.exports=b}));exports.ScopedStore=r,exports.createScopedStore=function(e){return function(){return new r(e())}},exports.useScopedSelector=function(e,t,n){return void 0===n&&(n=Object.is),g.useSyncExternalStoreWithSelector(e.subscribe.bind(e),e.getState.bind(e),e.getState.bind(e),t,n)},exports.useScopedStore=function(t){var n=e.useRef(null);n.current||(n.current=t());var r=n.current,u=O.useSyncExternalStore(r.subscribe.bind(r),r.getState.bind(r),r.getState.bind(r));return e.useEffect((function(){return function(){r.destroy()}}),[r]),{state:u,setState:r.setState.bind(r),store:r}};
